{% extends "main.html" %}
{% load static %}

{% block main_content %}
    <div class="row my-2">
        <div class="col-12 offset-sm-1 offset-lg-3 offset-xl-4 col-sm-10 col-lg-6 col-xl-4 px-0">
            <div class="row mx-1 bg-light rounded p-2 pt-3">
                <h4 class="p-2 px-4 header-title text-primary">
                    {{ item.name }}
                </h4>
                <div class="col-12">
                    <hr class="m-0 mb-3">
                </div>
                <div class="col-12 col-sm px-4 pb-4 pb-sm-0">
                    <img class="img-fluid" src="{{ item.image.url }}">
                </div>
                <div class="col-12 col-sm mx-1">
                    <p class="mb-2">Description:</p>
                    <p class="p-2 border rounded">
                        {% if item.description %}
                            {{ item.description }}
                        {% else %}
                            <strong>No description set for the item.</strong>
                        {% endif %}
                    </p>
                    <p>Buyout price: <strong>{{ item.price }} €</strong></p>
                    <p>Top bid: <strong>{% if top_bid %}{{ top_bid.price }} €{% else %}No bids made.{% endif %}</strong></p>
                    {% if top_bid %}
                        <p>Bid made by: <strong>{{ top_bid.user }}</strong></p>
                    {% endif %}
                </div>
                <div class="col-12">
                    <hr>
                </div>
                <form class="col-12" method="POST" action="">
                    {% csrf_token %}
                    <h4 class="p-2 header-title text-primary">Make a bid</h4>
                    <div class="col-12 form-inline mx-1 px-0">
                        <input name="bid-sum" class="col-12 col-sm-9 form-control mr-2 mb-2 mb-sm-0" type="number" placeholder="Write the sum of the bid..." />
                        <button class="col-12 col-sm btn btn-success" type="submit">Submit</button>
                    </div>
                </form>
                {% if messages %}
                    {% for message in messages %}
                        <div class="col-12">
                            <p class="bg-{{ message.tags }} p-3 rounded text-white">{{ message }}</p>
                        </div>
                    {% endfor %}
                {% endif %}
            </div>
        </div>
    </div>
{% endblock main_content %}
